!pragma charset UTF-8
@startuml screener_agent_detail
!theme plain
skinparam backgroundColor #FFFFFF
skinparam shadowing false
skinparam defaultFontName "Segoe UI"

title Screener Agent - Agent sàng lọc cổ phiếu

skinparam rectangle {
    BackgroundColor<<user>> #E8E8FF
    BackgroundColor<<router>> #FFECB3
    BackgroundColor<<agent>> #FFD6D6
    BackgroundColor<<tool>> #D4F1D4
    BackgroundColor<<output>> #F0E6FF
    BorderColor #333333
    FontSize 11
}

rectangle "User's query" as query <<user>>
rectangle "Root_agent" as root <<router>>
rectangle "screener_agent" as screener <<agent>>
rectangle "Output" as output <<output>>

rectangle "screen_stocks" as screen <<tool>>
rectangle "get_screener_columns" as columns <<tool>>
rectangle "filter_stocks_by_criteria" as filter <<tool>>
rectangle "rank_stocks_by_score" as rank <<tool>>

query --> root
root --> screener : "routing"

screener -.-> screen
screener -.-> columns
screener -.-> filter
screener -.-> rank

screen --> output
columns --> output
filter --> output
rank --> output
screener --> output

@enduml
