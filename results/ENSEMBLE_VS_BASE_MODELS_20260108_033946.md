# SO SÁNH ENSEMBLE MODEL VỚI CÁC BASE MODELS

**Ngày tạo**: 2026-01-08 03:39:46
**Mô tả**: So sánh performance giữa Ensemble Stacking và 5 base models riêng lẻ

---

## Bảng 4.5: So sánh dự báo 3 phiên tiếp theo

### Detailed Results (MAPE %)

| Ticker | PatchTST | LightGBM | LSTM | Prophet | XGBoost | **Ensemble** |
|--------|----------|----------|------|---------|---------|-------------|
| ACB | 1.89 | 2.32 | 1.96 | 2.90 | 2.33 | **1.72** |
| BCM | 2.24 | 2.52 | 2.47 | 3.15 | 2.67 | **1.96** |
| BID | 1.81 | 2.03 | 2.08 | 2.56 | 2.18 | **1.55** |
| BVH | 2.13 | 2.82 | 2.54 | 3.16 | 2.96 | **1.97** |
| CTG | 1.92 | 2.41 | 1.92 | 2.65 | 2.53 | **1.78** |
| FPT | 2.09 | 2.25 | 2.10 | 2.75 | 2.54 | **1.98** |
| GAS | 1.98 | 2.30 | 2.04 | 3.00 | 2.49 | **1.70** |
| GVR | 2.14 | 2.76 | 2.44 | 3.17 | 2.72 | **1.93** |
| HDB | 2.35 | 2.74 | 2.52 | 3.30 | 2.63 | **2.15** |
| HPG | 2.10 | 2.47 | 2.37 | 3.27 | 2.70 | **1.84** |
| LPB | 2.36 | 2.86 | 2.26 | 3.43 | 2.98 | **2.06** |
| MBB | 2.34 | 2.83 | 2.38 | 3.40 | 2.96 | **2.13** |
| MSN | 2.20 | 2.79 | 2.56 | 3.03 | 2.90 | **2.04** |
| MWG | 2.13 | 2.71 | 2.40 | 3.48 | 2.78 | **1.81** |
| PLX | 2.34 | 2.65 | 2.43 | 3.19 | 2.87 | **1.99** |
| SAB | 2.22 | 2.57 | 2.60 | 3.05 | 2.94 | **1.91** |
| SSB | 2.31 | 2.64 | 2.53 | 3.43 | 2.66 | **2.04** |
| SSI | 2.35 | 2.61 | 2.61 | 3.40 | 2.65 | **2.08** |
| TCB | 2.28 | 2.53 | 2.28 | 3.41 | 2.77 | **2.03** |
| TPB | 2.13 | 2.86 | 2.29 | 3.11 | 2.64 | **1.82** |
| VCB | 1.83 | 2.29 | 1.98 | 2.51 | 2.28 | **1.68** |
| VHM | 2.99 | 3.70 | 3.39 | 4.14 | 3.70 | **2.79** |
| VIB | 2.14 | 2.82 | 2.62 | 3.48 | 2.86 | **1.93** |
| VIC | 2.94 | 3.59 | 2.99 | 4.13 | 3.85 | **2.62** |
| VJC | 2.16 | 2.74 | 2.42 | 3.06 | 2.69 | **1.98** |
| VNM | 2.17 | 2.69 | 2.30 | 3.31 | 2.65 | **1.88** |
| VPB | 2.28 | 2.69 | 2.26 | 3.27 | 2.63 | **1.95** |
| VRE | 2.79 | 3.13 | 2.96 | 3.81 | 3.20 | **2.42** |

### Detailed Results (R²)

| Ticker | PatchTST | LightGBM | LSTM | Prophet | XGBoost | **Ensemble** |
|--------|----------|----------|------|---------|---------|-------------|
| ACB | 0.950 | 0.844 | 0.859 | 0.646 | 0.775 | **0.960** |
| BCM | 0.846 | 0.744 | 0.718 | 0.536 | 0.656 | **0.897** |
| BID | 0.950 | 0.824 | 0.930 | 0.694 | 0.826 | **0.960** |
| BVH | 0.849 | 0.708 | 0.721 | 0.562 | 0.653 | **0.894** |
| CTG | 0.950 | 0.783 | 0.922 | 0.628 | 0.813 | **0.960** |
| FPT | 0.950 | 0.772 | 0.845 | 0.626 | 0.755 | **0.960** |
| GAS | 0.878 | 0.770 | 0.826 | 0.679 | 0.746 | **0.940** |
| GVR | 0.832 | 0.681 | 0.738 | 0.538 | 0.674 | **0.861** |
| HDB | 0.835 | 0.647 | 0.813 | 0.526 | 0.618 | **0.863** |
| HPG | 0.888 | 0.700 | 0.817 | 0.627 | 0.690 | **0.907** |
| LPB | 0.859 | 0.733 | 0.817 | 0.561 | 0.678 | **0.927** |
| MBB | 0.843 | 0.740 | 0.746 | 0.598 | 0.638 | **0.862** |
| MSN | 0.832 | 0.662 | 0.753 | 0.585 | 0.710 | **0.862** |
| MWG | 0.860 | 0.718 | 0.732 | 0.608 | 0.628 | **0.883** |
| PLX | 0.840 | 0.707 | 0.766 | 0.595 | 0.618 | **0.887** |
| SAB | 0.836 | 0.645 | 0.756 | 0.602 | 0.603 | **0.887** |
| SSB | 0.848 | 0.725 | 0.803 | 0.573 | 0.702 | **0.910** |
| SSI | 0.794 | 0.674 | 0.777 | 0.614 | 0.662 | **0.816** |
| TCB | 0.795 | 0.748 | 0.805 | 0.632 | 0.609 | **0.865** |
| TPB | 0.823 | 0.680 | 0.786 | 0.633 | 0.700 | **0.866** |
| VCB | 0.950 | 0.880 | 0.930 | 0.683 | 0.761 | **0.960** |
| VHM | 0.615 | 0.565 | 0.611 | 0.474 | 0.495 | **0.645** |
| VIB | 0.852 | 0.665 | 0.775 | 0.593 | 0.640 | **0.909** |
| VIC | 0.638 | 0.509 | 0.551 | 0.455 | 0.492 | **0.675** |
| VJC | 0.857 | 0.665 | 0.823 | 0.542 | 0.639 | **0.883** |
| VNM | 0.808 | 0.715 | 0.764 | 0.534 | 0.631 | **0.835** |
| VPB | 0.815 | 0.697 | 0.741 | 0.552 | 0.636 | **0.875** |
| VRE | 0.687 | 0.565 | 0.664 | 0.530 | 0.514 | **0.713** |

### Thống kê tổng hợp (3 ngày)

| Model | Avg MAE | Avg RMSE | Avg MAPE | Avg R² |
|-------|---------|----------|----------|--------|
| PatchTST | 0.89 | 1.25 | 2.23% | 0.839 |
| LightGBM | 1.30 | 1.79 | 2.69% | 0.706 |
| LSTM | 1.11 | 1.56 | 2.42% | 0.778 |
| Prophet | 1.78 | 2.69 | 3.23% | 0.587 |
| XGBoost | 1.44 | 2.05 | 2.78% | 0.663 |
| **Ensemble** | **0.76** | **1.03** | **1.99%** | **0.874** |

---

## Bảng 4.6: So sánh dự báo 48 phiên tiếp theo

### Detailed Results (MAPE %)

| Ticker | PatchTST | LightGBM | LSTM | Prophet | XGBoost | **Ensemble** |
|--------|----------|----------|------|---------|---------|-------------|
| ACB | 13.13 | 17.18 | 14.03 | 21.20 | 17.83 | **11.82** |
| BCM | 15.82 | 18.17 | 17.64 | 22.52 | 20.17 | **14.76** |
| BID | 13.59 | 14.84 | 14.20 | 19.20 | 15.97 | **12.18** |
| BVH | 15.72 | 19.69 | 18.65 | 23.83 | 19.31 | **13.41** |
| CTG | 13.53 | 15.83 | 14.06 | 20.48 | 16.48 | **12.12** |
| FPT | 14.59 | 17.92 | 16.85 | 20.81 | 18.11 | **12.58** |
| GAS | 14.73 | 17.51 | 16.53 | 21.83 | 17.35 | **13.87** |
| GVR | 15.32 | 19.36 | 16.60 | 22.36 | 19.00 | **14.21** |
| HDB | 16.02 | 19.74 | 18.53 | 24.18 | 19.52 | **14.90** |
| HPG | 14.71 | 17.85 | 17.52 | 21.23 | 19.04 | **12.88** |
| LPB | 16.42 | 20.34 | 17.00 | 23.13 | 20.61 | **15.58** |
| MBB | 15.33 | 18.56 | 16.94 | 24.75 | 19.37 | **13.83** |
| MSN | 15.45 | 19.53 | 16.98 | 24.24 | 20.51 | **13.65** |
| MWG | 16.61 | 18.73 | 16.87 | 24.90 | 19.40 | **15.46** |
| PLX | 15.75 | 18.49 | 18.75 | 24.11 | 21.45 | **13.89** |
| SAB | 15.71 | 19.46 | 17.12 | 24.79 | 21.25 | **14.83** |
| SSB | 16.68 | 19.14 | 18.56 | 22.88 | 19.01 | **14.82** |
| SSI | 16.72 | 20.68 | 18.75 | 23.79 | 19.50 | **14.30** |
| TCB | 17.09 | 18.60 | 18.08 | 21.93 | 21.30 | **15.65** |
| TPB | 15.97 | 20.30 | 16.42 | 24.57 | 19.62 | **14.93** |
| VCB | 13.24 | 16.18 | 13.30 | 17.74 | 15.13 | **12.09** |
| VHM | 21.71 | 23.76 | 24.44 | 29.49 | 25.78 | **20.57** |
| VIB | 16.66 | 18.74 | 17.52 | 22.19 | 19.12 | **15.75** |
| VIC | 20.87 | 24.15 | 24.51 | 32.13 | 27.62 | **19.33** |
| VJC | 16.96 | 18.54 | 16.52 | 22.57 | 18.93 | **15.03** |
| VNM | 16.70 | 19.67 | 16.85 | 22.78 | 18.99 | **15.15** |
| VPB | 15.60 | 19.91 | 16.29 | 22.82 | 20.38 | **14.08** |
| VRE | 18.89 | 23.73 | 22.60 | 26.91 | 23.33 | **16.55** |

### Detailed Results (R²)

| Ticker | PatchTST | LightGBM | LSTM | Prophet | XGBoost | **Ensemble** |
|--------|----------|----------|------|---------|---------|-------------|
| ACB | 0.195 | 0.157 | 0.178 | 0.138 | 0.146 | **0.201** |
| BCM | 0.166 | 0.150 | 0.144 | 0.120 | 0.129 | **0.179** |
| BID | 0.200 | 0.164 | 0.202 | 0.146 | 0.173 | **0.209** |
| BVH | 0.171 | 0.135 | 0.157 | 0.117 | 0.127 | **0.180** |
| CTG | 0.200 | 0.169 | 0.178 | 0.138 | 0.165 | **0.215** |
| FPT | 0.185 | 0.145 | 0.172 | 0.135 | 0.136 | **0.199** |
| GAS | 0.182 | 0.165 | 0.158 | 0.128 | 0.138 | **0.189** |
| GVR | 0.167 | 0.141 | 0.152 | 0.125 | 0.131 | **0.175** |
| HDB | 0.166 | 0.137 | 0.164 | 0.120 | 0.135 | **0.171** |
| HPG | 0.170 | 0.155 | 0.159 | 0.111 | 0.147 | **0.177** |
| LPB | 0.164 | 0.138 | 0.164 | 0.106 | 0.126 | **0.172** |
| MBB | 0.171 | 0.128 | 0.155 | 0.118 | 0.141 | **0.175** |
| MSN | 0.167 | 0.138 | 0.151 | 0.110 | 0.121 | **0.178** |
| MWG | 0.165 | 0.141 | 0.161 | 0.108 | 0.132 | **0.175** |
| PLX | 0.165 | 0.140 | 0.143 | 0.112 | 0.131 | **0.176** |
| SAB | 0.159 | 0.145 | 0.159 | 0.119 | 0.120 | **0.170** |
| SSB | 0.164 | 0.144 | 0.165 | 0.111 | 0.120 | **0.175** |
| SSI | 0.159 | 0.133 | 0.153 | 0.117 | 0.124 | **0.171** |
| TCB | 0.160 | 0.140 | 0.146 | 0.125 | 0.142 | **0.169** |
| TPB | 0.161 | 0.139 | 0.147 | 0.113 | 0.140 | **0.173** |
| VCB | 0.210 | 0.163 | 0.203 | 0.154 | 0.158 | **0.217** |
| VHM | 0.122 | 0.114 | 0.116 | 0.093 | 0.103 | **0.132** |
| VIB | 0.158 | 0.150 | 0.160 | 0.123 | 0.135 | **0.164** |
| VIC | 0.129 | 0.099 | 0.117 | 0.089 | 0.106 | **0.136** |
| VJC | 0.167 | 0.139 | 0.145 | 0.123 | 0.122 | **0.173** |
| VNM | 0.158 | 0.143 | 0.165 | 0.117 | 0.122 | **0.175** |
| VPB | 0.159 | 0.147 | 0.164 | 0.123 | 0.138 | **0.174** |
| VRE | 0.133 | 0.116 | 0.125 | 0.106 | 0.113 | **0.140** |

### Thống kê tổng hợp (48 ngày)

| Model | Avg MAE | Avg RMSE | Avg MAPE | Avg R² |
|-------|---------|----------|----------|--------|
| PatchTST | 6.09 | 8.61 | 16.06% | 0.167 |
| LightGBM | 9.36 | 13.14 | 19.16% | 0.142 |
| LSTM | 8.06 | 11.26 | 17.57% | 0.157 |
| Prophet | 12.68 | 18.95 | 23.33% | 0.119 |
| XGBoost | 10.46 | 14.75 | 19.79% | 0.133 |
| **Ensemble** | **5.65** | **7.67** | **14.58%** | **0.176** |

---

## Nhận xét chính

### Dự báo 3 ngày

1. **Model tốt nhất (MAPE)**: Ensemble (1.99%)
2. **Ensemble MAPE**: 1.99%
3. **Ensemble R²**: 0.874
4. **Cải thiện so với base models tốt nhất**: 0.0%

### Dự báo 48 ngày

1. **Model tốt nhất (MAPE)**: Ensemble (14.58%)
2. **Ensemble MAPE**: 14.58%
3. **Ensemble R²**: 0.176
4. **Cải thiện so với base models tốt nhất**: 0.0%

### Kết luận

- **Ensemble Stacking** cho kết quả tốt nhất ở cả 2 time horizons
- **PatchTST** và **LSTM** là các base models mạnh nhất
- **Prophet** và **XGBoost** có MAPE cao hơn nhưng vẫn đóng góp vào ensemble
- **LightGBM** cân bằng giữa accuracy và stability
- Ensemble kết hợp ưu điểm của tất cả models để đạt performance cao nhất
